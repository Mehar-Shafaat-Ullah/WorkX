server {
    # Nginx listens on port 80 inside the Docker container
    listen 80;

    # Set the root directory where your built files are located
    # This matches the directory copied in the Dockerfile (/usr/share/nginx/html)
    root /usr/share/nginx/html;

    # Enable compression for faster loading (optional but recommended)
    gzip on;
    gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;

    # Define the main location block
    location / {
        # Try serving the requested URI (e.g., /about.html)
        try_files $uri $uri/ /index.html;

        # The key line for Single Page Applications (SPAs):
        # If a file is not found, Nginx serves index.html instead of a 404.
        # This allows the JavaScript router (like React Router) to handle the URL.
    }
    
    # Optional: Configure the max body size for file uploads
    # If your image upload endpoint is failing due to size, uncomment and adjust this.
    # client_max_body_size 10M; 
}